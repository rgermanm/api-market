

import React, { HTMLAttributes, useEffect, useState } from "react";
import styles from './tag.module.css'
import { Text } from "../typography/Text";
import { FontAwesomeIcon } from "@fortawesome/react-fontawesome";
import { faCircleExclamation,faTimes } from "@fortawesome/free-solid-svg-icons";
export interface Props extends HTMLAttributes<HTMLButtonElement> {
    label: string,
    error: boolean,
    isVisible: boolean
}

export const Tag = ({ label = "Label", error = false, isVisible = true }: Props) => {

    const [visible, setVisible] = useState(isVisible);

    useEffect(()=>{
        setVisible(isVisible)
    },[isVisible])


    return (
        <div className={styles.tagContainer} style={{ display: visible ? "" : "none" }}>
            <div className={error ? styles.tagError : styles.tag} >
                {error&&< FontAwesomeIcon
                   
                    color={"#C51111"}
                    icon={faCircleExclamation}
                ></FontAwesomeIcon>}
                <Text type="S7" color={error ? "#C51111" : "#000000"} text={label}></Text>
                < FontAwesomeIcon
                    style={{marginLeft:error?"4px":"0px"}}
                    onClick={() => { setVisible(false) }}
                    icon={faTimes}
                ></FontAwesomeIcon>
            </div>
        </div>)
}