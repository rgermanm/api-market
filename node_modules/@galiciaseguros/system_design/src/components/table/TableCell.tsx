import React, { HTMLAttributes } from "react";
import styles from './tableCell.module.css'

interface Props extends HTMLAttributes<HTMLTableCellElement> {


    data?: any,
    dataType?: 'text' | 'number' | 'state',
    width?: number,

}

interface IStateData {
    label: string,
    state: 'danger' | 'success' | 'warning' | 'disabled' | 'info'
}

export const TableCell = ({ data = " ", dataType = "text", ...props }: Props) => {


    const dataFormatter = (data: any) => {



        switch (dataType) {
            case 'text':
                return <div> {data}</div>;
            case 'state':
                let formatedData: IStateData = data;
                return <div className={styles.stateCellContainer}> <div style={{ backgroundColor: stateColor[formatedData.state] }} className={styles.stateCircle}></div><div>{formatedData.label}</div></div>;
        }
        return data;
    }

    const stateColor = {
        'danger': '#C51111',
        'success': '#258825',
        'warning': '#E99D09',
        'disabled': '#6A6A6A',
        'info': '#2970BC'
    }

    return (
        <div style={{ width: props.width }} className={styles.tableCellContainer}>
            {dataFormatter(data)}
        </div>
    )
}