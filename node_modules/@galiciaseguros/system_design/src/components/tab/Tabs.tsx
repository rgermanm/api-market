import React, { FC, HTMLAttributes, useEffect, useState } from "react";
import { Text } from "../typography/Text";
import styles from './tab.module.css'

interface TabInterface {
    label: string,
    action?: (m: any) => {},
    active?: boolean
}
export interface Props extends HTMLAttributes<HTMLDivElement> {

    /**Tab Content**/
    tabs: TabInterface[]
    onTabSelected(active:number): any;
}

export const Tabs: FC<Props> = ({ tabs = [{label:"Label 1"},{label:"Label 2"}],onTabSelected=(i=>console.log(i)) }: Props) => {



    const [active,setActive]=useState(-1);

    useEffect(()=>{
        if(active!=-1)
        onTabSelected(active)
    },[active])

    return (
        <div className={styles.tabsContainer}>
            {tabs.map((t,i) =>
                <div onClick={()=>{setActive(i)}}className={i==active ? styles.tabItemActive : styles.tabItem}>
                    <Text text={t.label}></Text>
                </div>
            )}
        </div>
    )
}